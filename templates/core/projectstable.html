{% extends 'core/base.html' %}
{% load static %}

{% block extrahead %}
<style>
div.dataTables_wrapper {
    width : 100%;
    margin : 0 auto;
}
</style>
{% endblock extrahead %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'core:index' %}">Ana Sayfa</a></li>
<li class="breadcrumb-item">Proje Liste</li>
{% endblock breadcrumb %}

{% block breadcrumb_menu %}
   <form>
        {% csrf_token %}
        <input type="text", name="keyword", class="input-group-sm", maxlength="64", placeholder="Ara">
        <button type="submit", class="btn btn-gray-100 btn-outline-blue"><i class="fa fa-search"></i></button>
    </form>
    {% if user.is_authenticated  %}
    <a class="btn btn-gray-100 btn-outline-blue", href="{% url 'core:addproject' %}"><i class="fa fa-plus"></i>  Proje Ekle</a>
    <a class="btn btn-gray-100 btn-outline-blue", href="{% url 'core:exportprojects' %}"><i class="fa fa-download"></i>  Export</a>
    {% endif %}
{% endblock breadcrumb_menu %}

{% block content %}

<div class="col-md-12">
    <div class="card">
        <div class="card-header">
            <strong> {{projects.count}} Ar-Ge Projesi Listelenmektedir</strong>
        </div>
        <div class="card-body">
            <div class="row">
            <div class="col-sm-12">
                <div class="card-group">
                    <div class="card ">
                        <div class="card-body">
    <table id="table_id" class="display nowrap" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Durumu</th>
                <th>Kodu</th>
                <th>Adı</th>
                <th>Açılış Tarihi</th>
                <th>Kapanış Tarihi</th>
                <th>Tamamlanma (%)</th>
                <th>Adam Ay</th>
                <th>Toplam Bütçe (TL)</th>
                <th>Çalışan Personel Sayısı</th>
                <th>Güncellenme Tarihi</th>
                <th>Proje Çıktısı</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                {% for project in projects %}
                        <td>{{project.get_ProjeDurumu_display}}</td>
                        <td>{{project.ProjeKodu}}</td>
                        <td>{{project.ProjeAdi}}</td>
                        <td>{{project.ProjeBaslamaTarihi}}</td>
                        <td>{{project.ProjeBitisTarihi}}</td>
                        <td>{{project.TamamlanmaYuzdesi}}</td>
                        <td>{{project.ProjeSuresiAdamAy}}</td>
                        <td>{{project.ToplamProjeButcesi}}</td>
                        <td>{{project.ProjePersonel}}</td>
                        <td>{{project.ProjeGuncellemeTarihi}}</td>
                        <td>{{project.get_PRojeCiktisi_display}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</div>
</div>
</div>
</div>
</div>



{% endblock content %}

{% block js %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/ju/jq-3.3.1/jszip-2.5.0/dt-1.10.22/b-1.6.5/b-colvis-1.6.5/b-html5-1.6.5/cr-1.5.2/fh-3.1.7/kt-2.5.3/r-2.2.6/rg-1.1.2/rr-1.2.7/sc-2.0.3/sp-1.2.1/sl-1.3.1/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/ju/jq-3.3.1/jszip-2.5.0/dt-1.10.22/b-1.6.5/b-colvis-1.6.5/b-html5-1.6.5/cr-1.5.2/fh-3.1.7/kt-2.5.3/r-2.2.6/rg-1.1.2/rr-1.2.7/sc-2.0.3/sp-1.2.1/sl-1.3.1/datatables.min.js"></script>

<script>
$(document).ready( function () {
    $('#table_id').DataTable({
    dom: 'B<"clear">lfrtip',
    buttons: {
        name: 'primary',
        buttons: [ 'copy', 'csv', 'excel', 'pdf' ]
            },
        "scrollX" : true
    }
    );
} );
</script>
{% endblock js %}

<script>
    dom: 'B<"clear">lfrtip',
    buttons: {
        name: 'primary',
        buttons: [ 'copy', 'csv', 'excel', 'pdf' ],
        

        }}
    );
} );
</script>